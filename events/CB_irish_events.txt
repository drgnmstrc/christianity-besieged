namespace = irish_events 
## When someone declares themselves the high king of ireland
country_event = {
	id = irish_events.1
	title = irish_events.1.t
	desc = irish_events.1.d

	immediate = {
		hidden_effect = {
			ROOT = { save_event_target_as = new_high_king }
		}
	}

	is_triggered_only = yes

	option = {
		name = irish_events.1.a

		every_country = {
			limit = { has_reform = irish_kingdom }

			country_event = {
				id = irish_events.2
			}
		}
		every_country = {
			limit = { 
				has_reform = irish_high_kingdom
			    NOT = { tag = ROOT }
			}

			country_event = {
				id = irish_events.3
			}
		}
	}
}

## Illegitimate high king of ireland
country_event = {
	id = irish_events.2
	title = irish_events.2.t
	desc = irish_events.2.d

	is_triggered_only = yes

	option = {
		name = irish_events.2.a

		ai_chance = {
			factor = 60
			
			modifier = {
				factor = 20
				has_opinion = {
					who = event_target:new_high_king
					value = 50
				}
			}
			modifier = {
				factor = 40
				has_opinion = {
					who = event_target:new_high_king
					value = 100
				}
			}
			
			modifier = {
				factor = 100
				is_subject_of = event_target:new_high_king
			}
		}
	}
	option = {
		name = irish_events.2.b

		form_coalition_against = event_target:new_high_king

		add_opinion = {
			who = event_target:new_high_king
			modifier = aggressive_expansion
			years = 5
			multiplier = 100
		}
		add_casus_belli = {
			type = illegitimate_high_king_of_ireland_cb
			target = event_target:new_high_king
			months = 60
		}

		ai_chance = {
			factor = 40
				
			modifier = {
				factor = 20
				has_opinion = {
					who = event_target:new_high_king
					value = -50
				}
			}
			modifier = {
				factor = 40
				has_opinion = {
					who = event_target:new_high_king
					value = -100
				}
			}

			modifier = {
				factor = 100
				is_rival = event_target:new_high_king
			}
		}
	}
}

## Pretender high king of ireland
country_event = {
	id = irish_events.3
	title = irish_events.3.t
	desc = irish_events.3.d
	
	is_triggered_only = yes

	option = {
		name = irish_events.3.a 

		remove_government_reform = irish_high_kingdom
		add_government_reform = irish_kingdom

		ai_chance = {
			factor = 60

			modifier = {
				factor = 0
				is_rival = event_target:new_high_king
			}

			modifier = {
				factor = 0.2
				has_opinion = {
					who = event_target:new_high_king
					value = -50
				}
			}
			
			modifier = {
				factor = 0.4
				has_opinion = {
					who = event_target:new_high_king
					value = -100
				}
			}
		}
	}
	option = {
		name = irish_events.3.b 

		add_casus_belli = {
			type = pretender_high_king_of_ireland_cb
			target = event_target:new_high_king
		}

		ai_chance = {
			factor = 40

			modifier = {
				factor = 0
				is_subject_of = event_target:new_high_king
			}
			
			modifier = {
				factor = 0.2
				has_opinion = {
					who = event_target:new_high_king
					value = 50
				}
			}
			modifier = {
				factor = 0.4
				has_opinion = {
					who = event_target:new_high_king
					value = 100
				}
			}
		}
	}
}

## Seized hill of tara
country_event = {
	id = irish_events.4

	title = irish_events.4.t
	desc = irish_events.4.d
	
	is_triggered_only = yes

	option = {
		name = irish_events.4.a

		add_legitimacy = 20
		add_prestige = 10

		set_capital = 373

		capital_scope = {
			area = {
				add_claim = ROOT
			}
			add_core = ROOT
		}
	}
}

## Lost Hill of Tara
country_event = {
	id = irish_events.5

	title = irish_events.5.t
	desc = irish_events.5.d 

	is_triggered_only = yes

	option = {
		name = irish_events.5.a

		add_rival = event_target:hill_of_tara_controller
		add_casus_belli = {
			type = retrieve_the_hill_of_tara_cb
			target = event_target:hill_of_tara_controller
		}
	}
}

country_event = {
	id = irish_events.6

	title = irish_event.6.t
	desc = irish_events.6.d

	is_triggered_only = yes

	option = {
		name = irish_events.6.a

		define_general = {
			name = "Eimear Chulainn"
			trait = decendant_of_chulainn
			shock = 5
			fire = 2
			manuever = 3
			siege = 1
			female = yes
e		}
	}
}